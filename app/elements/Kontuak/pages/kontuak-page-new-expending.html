<link rel="import" href="../panels/kontuak-edit-movement-panel.html">
<dom-module id="kontuak-page-new-expending">
    <template>
        <h2>New expending</h2>
        <kontuak-edit-movement-panel
                is-spent
                on-kontuak-movement-persisted="_handleMovementCreated"
                ></kontuak-edit-movement-panel>
    </template>

    <script>
        (function() {
            Polymer({
                is: 'kontuak-page-new-expending',
                reload: function() {
                    var node = this.querySelector('kontuak-new-expending-panel');
                    node.parentNode.replaceChild(
                            document.createElement('kontuak-new-expending-panel'),
                            node
                    );
                },
                _handleMovementCreated: function() {
                    page.redirect('/');
                }
            });
        })();
    </script>
</dom-module>